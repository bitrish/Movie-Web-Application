(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(75)},73:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(23),c=a.n(s),i=a(8),l=a(9),o=a(11),u=a(10),m=a(12),p=a(17),g=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",padding:"0.2",backgroundColor:"#925ac7"}},r.a.createElement(p.b,{to:"/",style:{textDecoration:"none",color:"white"}},r.a.createElement("h1",{style:{marginTop:"0.3rem",marginLeft:"1rem"}},"Movies App")),r.a.createElement(p.b,{to:"/fav",style:{textDecoration:"none",color:"white"}},r.a.createElement("h2",{style:{marginLeft:"2rem",marginTop:"0.8rem"}},"Favourites")))}}]),t}(n.Component),v=a(13),h=a.n(v),d=a(5),f=a(18),E=a(19),b=a.n(E),y=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={currPage:1,movies:[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://api.themoviedb.org/3/movie/popular?api_key=1cc9ebff269a404baf930a1cff8d85cb&language=en-US&page=".concat(this.state.currPage));case 2:t=e.sent,a=t.data,this.setState({movies:Object(d.a)(a.results)});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,void 0==this.state.movies[0]?r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"visually-hidden"},"Loading...")):r.a.createElement("div",{className:"card banner-card",id:"Go-to-Banner"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(this.state.movies[0].backdrop_path),alt:this.state.movies[0].title,className:"card-img-top banner-img"}),r.a.createElement("h1",{className:"card-title banner-title"},this.state.movies[0].original_title),r.a.createElement("p",{class:"card-text banner-text"},this.state.movies[0].overview)))}}]),t}(n.Component),S=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).changeMovies=Object(f.a)(h.a.mark(function t(){var a,n;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("changemovies called"),console.log(e.state.currPage),t.next=4,b.a.get("https://api.themoviedb.org/3/movie/popular?api_key=1cc9ebff269a404baf930a1cff8d85cb&language=en-US&page=".concat(e.state.currPage));case 4:a=t.sent,n=a.data,e.setState({movies:Object(d.a)(n.results)});case 7:case"end":return t.stop()}},t)})),e.handleRight=function(){for(var t=[],a=1;a<=e.state.parr.length+1;a++)t.push(a);e.setState({parr:[].concat(t),currPage:e.state.currPage+1},e.changeMovies)},e.handleLeft=function(){1!=e.state.currPage&&e.setState({currPage:e.state.currPage-1},e.changeMovies)},e.handleClick=function(t){t!=e.state.currPage&&(console.log("i am called"),e.setState({currPage:t},e.changeMovies))},e.handleFavourites=function(t){var a=JSON.parse(localStorage.getItem("movies-app")||"[]");e.state.favourites.includes(t.id)?a=a.filter(function(e){return e.id!=t.id}):a.push(t),localStorage.setItem("movies-app",JSON.stringify(a)),console.log(a),e.handleFavouritesState()},e.handleFavouritesState=function(){var t=JSON.parse(localStorage.getItem("movies-app")||"[]").map(function(e){return e.id});e.setState({favourites:Object(d.a)(t)})},e.state={hover:"",parr:[1],currPage:1,movies:[],favourites:[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://api.themoviedb.org/3/movie/popular?api_key=1cc9ebff269a404baf930a1cff8d85cb&language=en-US&page=".concat(this.state.currPage));case 2:t=e.sent,a=t.data,this.setState({movies:Object(d.a)(a.results)});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,0==this.state.movies.length?r.a.createElement("div",{class:"spinner-border text-primary",role:"status"},r.a.createElement("span",{class:"visually-hidden"},"Loading...")):r.a.createElement("div",null,r.a.createElement("h3",{className:"text-center",style:{color:"#925ac7"}},r.a.createElement("strong",null,"Popular")),r.a.createElement("div",{className:"movies-list"},this.state.movies.map(function(t){return r.a.createElement("div",{className:"card movies-card",onMouseEnter:function(){return e.setState({hover:t.id})},onMouseLeave:function(){return e.setState({hover:""})}},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(t.backdrop_path),alt:t.title,className:"card-img-top movies-img"}),r.a.createElement("h5",{className:"card-title movies-title"},r.a.createElement("strong",null,t.original_title)),r.a.createElement("div",{className:"button-wrapper",style:{display:"flex",width:"100%",justifyContent:"center"}},e.state.hover==t.id&&r.a.createElement("a",{className:"btn btn-primary movies-button",onClick:function(){return e.handleFavourites(t)}},e.state.favourites.includes(t.id)?"Remove from favourites":"Add to favourites")))})),r.a.createElement("div",null,r.a.createElement("a",{href:"#Go-to-Banner",class:"button-top",style:{color:"purple",bgcolor:"blue"}},"\ud83d\udd3c")),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",backgroundColor:"#925ac7",paddingTop:"1rem"}},r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{class:"pagination"},r.a.createElement("li",{class:"page-item"},r.a.createElement("a",{class:"page-link",onClick:this.handleLeft},"Previous")),this.state.parr.map(function(t){return r.a.createElement("li",{class:"page-item"},r.a.createElement("a",{class:"page-link",onClick:function(){return e.handleClick(t)}},t))}),r.a.createElement("li",{class:"page-item"},r.a.createElement("a",{class:"page-link",onClick:this.handleRight},"Next")))))))}}]),t}(n.Component),k=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleGenreChange=function(t){e.setState({currgen:t})},e.sortPopularityDesc=function(){var t=e.state.movies;t.sort(function(e,t){return t.popularity-e.popularity}),e.setState({movies:Object(d.a)(t)})},e.sortPopularityAsc=function(){var t=e.state.movies;t.sort(function(e,t){return e.popularity-t.popularity}),e.setState({movies:Object(d.a)(t)})},e.sortRatingDesc=function(){var t=e.state.movies;t.sort(function(e,t){return t.vote_average-e.vote_average}),e.setState({movies:Object(d.a)(t)})},e.sortRatingAsc=function(){var t=e.state.movies;t.sort(function(e,t){return e.vote_average-t.vote_average}),e.setState({movies:Object(d.a)(t)})},e.handlePageChange=function(t){e.setState({currPage:t})},e.handleDelete=function(t){var a,n={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",10770:"TV",53:"Thriller",10752:"War",37:"Western"};a=e.state.movies.filter(function(e){return e.id!=t}),e.setState({movies:Object(d.a)(a)}),localStorage.setItem("movies-app",JSON.stringify(a));var r=JSON.parse(localStorage.getItem("movies-app")||"[]"),s=[];r.forEach(function(e){s.includes(n[e.genre_ids[0]])||s.push(n[e.genre_ids[0]])}),s.unshift("All Genres"),e.setState({genres:[].concat(s)})},e.state={genres:[],currgen:"All Genres",movies:[],currText:"",limit:5,currPage:1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",10770:"TV",53:"Thriller",10752:"War",37:"Western"},t=JSON.parse(localStorage.getItem("movies-app")||"[]"),a=[];t.forEach(function(t){a.includes(e[t.genre_ids[0]])||a.push(e[t.genre_ids[0]])}),a.unshift("All Genres"),this.setState({genres:[].concat(a),movies:Object(d.a)(t)})}},{key:"render",value:function(){var e=this,t={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",10770:"TV",53:"Thriller",10752:"War",37:"Western"},a=[];a=""===this.state.currText?this.state.movies:this.state.movies.filter(function(t){return t.original_title.toLowerCase().includes(e.state.currText.toLowerCase())}),"All Genres"!=this.state.currgen&&(a=this.state.movies.filter(function(a){return t[a.genre_ids[0]]==e.state.currgen}));for(var n=Math.ceil(a.length/this.state.limit),s=[],c=1;c<=n;c++)s.push(c);var i=(this.state.currPage-1)*this.state.limit,l=i+this.state.limit;return a=a.slice(i,l),r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 col-sm-12"},r.a.createElement("ul",{class:"list-group favourites-genres"},this.state.genres.map(function(t){return e.state.currgen==t?r.a.createElement("li",{class:"list-group-item",style:{background:"#925ac7",color:"white",fontWeight:"bold"}},t):r.a.createElement("li",{class:"list-group-item",style:{background:"white",color:"#3f51b5"},onClick:function(){return e.handleGenreChange(t)}},t)}))),r.a.createElement("div",{className:"col-lg-9 favourites-table col-sm-12"},r.a.createElement("div",{className:"row"},r.a.createElement("input",{type:"text",className:"input-group-text col",placeholder:"Search",value:this.state.currText,onChange:function(t){return e.setState({currText:t.target.value})}}),r.a.createElement("input",{type:"number",className:"input-group-text col",placeholder:"Rows Count",value:this.state.limit,onChange:function(t){return e.setState({limit:t.target.value})}})),r.a.createElement("div",{className:"row"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Genre"),r.a.createElement("th",{scope:"col"},r.a.createElement("i",{class:"fas fa-sort-up",onClick:this.sortPopularityDesc}),"Popularity",r.a.createElement("i",{class:"fas fa-sort-down",onClick:this.sortPopularityAsc})),r.a.createElement("th",{scope:"col"},r.a.createElement("i",{class:"fas fa-sort-up",onClick:this.sortRatingDesc}),"Rating",r.a.createElement("i",{class:"fas fa-sort-down",onClick:this.sortRatingAsc})),r.a.createElement("th",{scope:"col"},"Remove"))),r.a.createElement("tbody",null,a.map(function(a){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(a.backdrop_path),alt:a.title,style:{width:"6rem"}})," ",a.original_title),r.a.createElement("td",null,t[a.genre_ids[0]]),r.a.createElement("td",null,a.popularity),r.a.createElement("td",null,a.vote_average),r.a.createElement("td",null,r.a.createElement("button",{type:"button",class:"btn btn-danger",onClick:function(){return e.handleDelete(a.id)}},"Delete")))})))),r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{class:"pagination"},s.map(function(t){return r.a.createElement("li",{class:"page-item"},r.a.createElement("a",{class:"page-link",onClick:function(){return e.handlePageChange(t)}},t))}))))))))}}]),t}(n.Component),O=a(0);a(73);var C=function(){return r.a.createElement(p.a,null,r.a.createElement(g,null),r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,e),r.a.createElement(S,e))}}),r.a.createElement(O.a,{path:"/fav",component:k})))};c.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[39,2,1]]]);
//# sourceMappingURL=main.a0100781.chunk.js.map